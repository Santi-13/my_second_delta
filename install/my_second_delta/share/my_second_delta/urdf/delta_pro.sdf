<?xml version="1.0"?>
<sdf version='1.7'>
    <model name='delta'>
    <joint name='world_base_joint' type='fixed'>
      <pose relative_to='__model__'>1 0 0 0 -0 0</pose>
      <parent>world</parent>
      <child>base_link</child>
    </joint>

    <link name='base_link'>
      <pose relative_to='world_base_joint'>0 0 0 0 -0 0</pose>
      <inertial>
        <pose>0 0 0.00635 0 -0 0</pose>
        <mass>12</mass>
        <inertia>
          <ixx>0.0371243</ixx>
          <ixy>0</ixy>
          <ixz>0</ixz>
          <iyy>0.0371243</iyy>
          <iyz>0</iyz>
          <izz>0.073926</izz>
        </inertia>
      </inertial>
      <collision name='base_link_collision'>
        <pose>0 0 0.00635 0 -0 0</pose>
        <geometry>
          <cylinder>
            <length>0.0127</length>
            <radius>0.111</radius>
          </cylinder>
        </geometry>
        <surface>
          <contact>
            <ode/>
          </contact>
          <friction>
            <ode/>
          </friction>
        </surface>
      </collision>
      <visual name='base_link_visual'>
        <pose>0 0 0.00635 0 -0 0</pose>
        <geometry>
          <cylinder>
            <length>0.0127</length>
            <radius>0.111</radius>
          </cylinder>
        </geometry>
        <material>
          <script>
            <name>Gazebo/Green</name>
            <uri>file://media/materials/scripts/gazebo.material</uri>
          </script>
        </material>
      </visual>
    </link>

    <joint name='base_arm_1_joint' type='revolute'>
      <pose relative_to='base_link'>-0.115 0 0.0254 0 -0 0</pose>
      <parent>base_link</parent>
      <child>arm_1_link</child>
      <axis>
        <xyz>0 1 0</xyz>
        <limit>
          <lower>-1.5708</lower>
          <upper>1.5708</upper>
          <effort>100</effort>
          <velocity>100</velocity>
        </limit>
        <dynamics>
          <damping>1</damping>
          <friction>1</friction>
          <spring_reference>0</spring_reference>
          <spring_stiffness>0</spring_stiffness>
        </dynamics>
      </axis>
    </joint>

    <link name='arm_1_link'>
      <pose relative_to='base_arm_1_joint'>0 0 0 0 -0 0</pose>
      <inertial>
        <pose>-0.09 0 0 0 -0 0</pose>
        <mass>6</mass>
        <inertia>
          <ixx>0.000944661</ixx>
          <ixy>0</ixy>
          <ixz>0</ixz>
          <iyy>0.018037</iyy>
          <iyz>0</iyz>
          <izz>0.0171327</izz>
        </inertia>
      </inertial>
      <collision name='arm_1_link_collision'>
        <pose>-0.09 0 0 0 -0 0</pose>
        <geometry>
          <box>
            <size>0.185 0.00635 0.043</size>
          </box>
        </geometry>
      </collision>
      <visual name='arm_1_link_visual'>
        <pose>-0.09 0 0 0 -0 0</pose>
        <geometry>
          <box>
            <size>0.185 0.00635 0.043</size>
          </box>
        </geometry>
      </visual>
    </link>

    <joint name='arm_forearm_1_joint' type='ball'>
        <pose relative_to='arm_1_link'>-0.19 0 0 0 -0 0</pose>
        <parent>arm_1_link</parent>
        <child>forearm_1_link</child>
        <axis>
        <xyz>1 0 0</xyz>
            <limit>
                <lower>-0.4188</lower>
                <upper>0.4188</upper>
            </limit>
            <dynamics>
                <friction>10</friction>
                <damping>10</damping>
            </dynamics>
        </axis>
        <axis>
            <xyz>0 1 0</xyz>
            <limit>
                <lower>-1.5708</lower>
                <upper>1.5708</upper>
            </limit>
            <dynamics>
                <friction>10</friction>
                <damping>10</damping>
            </dynamics>
        </axis>
        <axis>
            <xyz>0 0 1</xyz>
            <limit>
                <lower>-0.4188</lower>
                <upper>0.4188</upper>
            </limit>
            <dynamics>
                <friction>10</friction>
                <damping>10</damping>
            </dynamics>
        </axis>
    </joint>


    <link name='forearm_1_link'>
        <pose relative_to='arm_forearm_1_joint'>0 0 0 0 -0 0</pose>
        <inertial>
            <pose>0 0 0.175 0 -0 0</pose>
            <mass>4</mass>
            <inertia>
                <ixx>0.122513</ixx>
                <ixy>0</ixy>
                <ixz>0</ixz>
                <iyy>0.122513</iyy>
                <iyz>0</iyz>
                <izz>0.245</izz>
            </inertia>
        </inertial>

        <collision name='forearm_1_link_collision'>
            <pose>0 0 0.175 0 -0 0</pose>
            <geometry>
            <cylinder>
                <length>0.35</length>
                <radius>0.00635</radius>
            </cylinder>
            </geometry>
        </collision>
        <visual name='forearm_1_link_visual'>
            <pose>0 0 0.175 0 -0 0</pose>
            <geometry>
            <cylinder>
                <length>0.35</length>
                <radius>0.00635</radius>
            </cylinder>
            </geometry>
        </visual>
    </link>

    <joint name='base_arm_2_joint' type='revolute'>
      <pose relative_to='base_link'>0.055 0.096 0.0254 0 0 -2.0944</pose>
      <parent>base_link</parent>
      <child>arm_2_link</child>
      <axis>
        <xyz>0 1 0</xyz>
        <limit>
          <lower>-1.5708</lower>
          <upper>1.5708</upper>
          <effort>100</effort>
          <velocity>100</velocity>
        </limit>
        <dynamics>
          <damping>10</damping>
          <friction>10</friction>
          <spring_reference>0</spring_reference>
          <spring_stiffness>0</spring_stiffness>
        </dynamics>
      </axis>
    </joint>

    <link name='arm_2_link'>
      <pose relative_to='base_arm_2_joint'>0 0 0 0 -0 0</pose>
      <inertial>
        <pose>-0.09 0 0 0 -0 0</pose>
        <mass>6</mass>
        <inertia>
          <ixx>0.000944661</ixx>
          <ixy>0</ixy>
          <ixz>0</ixz>
          <iyy>0.018037</iyy>
          <iyz>0</iyz>
          <izz>0.0171327</izz>
        </inertia>
      </inertial>
      <collision name='arm_2_link_collision'>
        <pose>-0.09 0 0 0 -0 0</pose>
        <geometry>
          <box>
            <size>0.185 0.00635 0.043</size>
          </box>
        </geometry>
      </collision>
      <visual name='arm_2_link_visual'>
        <pose>-0.09 0 0 0 -0 0</pose>
        <geometry>
          <box>
            <size>0.185 0.00635 0.043</size>
          </box>
        </geometry>
      </visual>
    </link>

    <joint name='arm_forearm_2_joint' type='ball'>
        <pose relative_to='arm_2_link'>-0.19 0 0 0 -0 0</pose>
        <parent>arm_2_link</parent>
        <child>forearm_2_link</child>
        <axis>
          <xyz>1 0 0</xyz>
            <limit>
                <lower>-0.4188</lower>
                <upper>0.4188</upper>
            </limit>
            <dynamics>
                <friction>10</friction>
                <damping>10</damping>
            </dynamics>
        </axis>
        <axis>
            <xyz>0 1 0</xyz>
            <limit>
                <lower>-1.5708</lower>
                <upper>1.5708</upper>
            </limit>
            <dynamics>
                <friction>10</friction>
                <damping>10</damping>
            </dynamics>
        </axis>
        <axis>
            <xyz>0 0 1</xyz>
            <limit>
                <lower>-0.4188</lower>
                <upper>0.4188</upper>
            </limit>
            <dynamics>
                <friction>10</friction>
                <damping>10</damping>
            </dynamics>
        </axis>
    </joint>

    <link name='forearm_2_link'>
        <pose relative_to='arm_forearm_2_joint'>0 0 0 0 -0 0</pose>
        <inertial>
            <pose>0 0 0.175 0 -0 0</pose>
            <mass>4</mass>
            <inertia>
                <ixx>0.122513</ixx>
                <ixy>0</ixy>
                <ixz>0</ixz>
                <iyy>0.122513</iyy>
                <iyz>0</iyz>
                <izz>0.245</izz>
            </inertia>
        </inertial>

        <collision name='forearm_2_link_collision'>
            <pose>0 0 0.175 0 -0 0</pose>
            <geometry>
            <cylinder>
                <length>0.35</length>
                <radius>0.00635</radius>
            </cylinder>
            </geometry>
        </collision>
        <visual name='forearm_2_link_visual'>
            <pose>0 0 0.175 0 -0 0</pose>
            <geometry>
            <cylinder>
                <length>0.35</length>
                <radius>0.00635</radius>
            </cylinder>
            </geometry>
        </visual>
    </link>    

    <joint name='forearm_1_virtual_joint' type='ball'>
      <pose relative_to='forearm_1_link'>0 0 0.35 0 -0 0</pose>
      <parent>forearm_1_link</parent>
      <child>virtual_1_link</child>
      <axis>
          <xyz>1 0 0</xyz>
            <limit>
                <lower>-0.4188</lower>
                <upper>0.4188</upper>
            </limit>
            <dynamics>
                <friction>10</friction>
                <damping>10</damping>
            </dynamics>
        </axis>
        <axis>
            <xyz>0 1 0</xyz>
            <limit>
                <lower>-1.5708</lower>
                <upper>1.5708</upper>
            </limit>
            <dynamics>
                <friction>10</friction>
                <damping>10</damping>
            </dynamics>
        </axis>
        <axis>
            <xyz>0 0 1</xyz>
            <limit>
                <lower>-0.4188</lower>
                <upper>0.4188</upper>
            </limit>
            <dynamics>
                <friction>10</friction>
                <damping>10</damping>
            </dynamics>
        </axis>
    </joint>

    <link name='virtual_1_link'> 
        <pose relative_to='forearm_1_virtual_joint'>0 0 0 0 -0 0</pose>
        <inertial>
          <pose>0 0 0 0 -0 0</pose>
          <mass>0.1</mass>
          <inertia>
            <ixx>1.66667e-06</ixx>
            <ixy>0</ixy>
            <ixz>0</ixz>
            <iyy>1.66667e-06</iyy>
            <iyz>0</iyz>
            <izz>1.66667e-06</izz>
          </inertia>
        </inertial>
        <collision name='virtual_1_link_collision'>
            <pose>0 0 0 0 -0 0</pose>
            <geometry>
            <box>
                <size>0.01 0.01 0.01</size>
            </box>
            </geometry>
        </collision>
        <visual name='virtual_1_link_visual'>
            <pose>0 0 0 0 -0 0</pose>
            <geometry>
            <box>
                <size>0.01 0.01 0.01</size>
            </box>
            </geometry>
        </visual>
    </link>
    
    <joint name='forearm_2_virtual_joint' type='ball'>
      <pose relative_to='forearm_2_link'>0 0 0.35 0 -0 0</pose>
      <parent>forearm_2_link</parent>
      <child>virtual_2_link</child>
      <axis>
          <xyz>1 0 0</xyz>
            <limit>
                <lower>-0.4188</lower>
                <upper>0.4188</upper>
            </limit>
            <dynamics>
                <friction>10</friction>
                <damping>10</damping>
            </dynamics>
        </axis>
        <axis>
            <xyz>0 1 0</xyz>
            <limit>
                <lower>-1.5708</lower>
                <upper>1.5708</upper>
            </limit>
            <dynamics>
                <friction>10</friction>
                <damping>10</damping>
            </dynamics>
        </axis>
        <axis>
            <xyz>0 0 1</xyz>
            <limit>
                <lower>-0.4188</lower>
                <upper>0.4188</upper>
            </limit>
            <dynamics>
                <friction>10</friction>
                <damping>10</damping>
            </dynamics>
        </axis>
    </joint>

    <link name='virtual_2_link'> 
        <pose relative_to='forearm_2_virtual_joint'>0 0 0 0 -0 0</pose>
        <inertial>
          <pose>0 0 0 0 -0 0</pose>
          <mass>0.1</mass>
          <inertia>
            <ixx>1.66667e-06</ixx>
            <ixy>0</ixy>
            <ixz>0</ixz>
            <iyy>1.66667e-06</iyy>
            <iyz>0</iyz>
            <izz>1.66667e-06</izz>
          </inertia>
        </inertial>
        <collision name='virtual_2_link_collision'>
            <pose>0 0 0 0 -0 0</pose>
            <geometry>
            <box>
                <size>0.01 0.01 0.01</size>
            </box>
            </geometry>
        </collision>
        <visual name='virtual_2_link_visual'>
            <pose>0 0 0 0 -0 0</pose>
            <geometry>
            <box>
                <size>0.01 0.01 0.01</size>
            </box>
            </geometry>
        </visual>
    </link>

    <link name='mobile_platform_link'>  
        <pose relative_to='virtual_1_link'>0.035 0 0 0 -0 0</pose>
        <inertial>
            <pose>0 0 -0.003175 0 -0 0</pose>
            <mass>4</mass>
            <inertia>
            <ixx>0.00123844</ixx>
            <ixy>0</ixy>
            <ixz>0</ixz>
            <iyy>0.00123844</iyy>
            <iyz>0</iyz>
            <izz>0.00245</izz>
            </inertia>
        </inertial>
        <collision name='mobile_platform_link_collision'>
            <pose>0 0 -0.003175 0 -0 0</pose>
            <geometry>
            <cylinder>
                <length>0.00635</length>
                <radius>0.035</radius>
            </cylinder>
            </geometry>
        </collision>
        <visual name='mobile_platform_link_visual'>
            <pose>0 0 -0.003175 0 -0 0</pose>
            <geometry>
            <cylinder>
                <length>0.00635</length>
                <radius>0.035</radius>
            </cylinder>
            </geometry>
        </visual>
    </link>

    <joint name='mobile_virtual_a' type='fixed'>
      <pose relative_to='mobile_platform_link'>-0.035 0 0 0 -0 0</pose>
      <parent>mobile_platform_link</parent>
      <child>virtual_a_link</child>
    </joint>

    <link name='virtual_a_link'> 
        <pose relative_to='mobile_virtual_a'>0 0 0 0 -0 0</pose>
        <inertial>
          <pose>0 0 0 0 -0 0</pose>
          <mass>0.1</mass>
          <inertia>
            <ixx>1.66667e-06</ixx>
            <ixy>0</ixy>
            <ixz>0</ixz>
            <iyy>1.66667e-06</iyy>
            <iyz>0</iyz>
            <izz>1.66667e-06</izz>
          </inertia>
        </inertial>
        <collision name='virtual_a_link_collision'>
            <pose>0 0 0 0 -0 0</pose>
            <geometry>
            <box>
                <size>0.01 0.01 0.01</size>
            </box>
            </geometry>
        </collision>
        <visual name='virtual_a_link_visual'>
            <pose>0 0 0 0 -0 0</pose>
            <geometry>
            <box>
                <size>0.01 0.01 0.01</size>
            </box>
            </geometry>
        </visual>
    </link>

    <joint name='mobile_virtual_b' type='fixed'>
      <pose relative_to='mobile_platform_link'>0.0175 -0.03031 0 0 -0 0</pose>
      <parent>mobile_platform_link</parent>
      <child>virtual_b_link</child>
    </joint>

    <link name='virtual_b_link'> 
        <pose relative_to='mobile_virtual_b'>0 0 0 0 -0 0</pose>
        <inertial>
          <pose>0 0 0 0 -0 0</pose>
          <mass>0.1</mass>
          <inertia>
            <ixx>1.66667e-06</ixx>
            <ixy>0</ixy>
            <ixz>0</ixz>
            <iyy>1.66667e-06</iyy>
            <iyz>0</iyz>
            <izz>1.66667e-06</izz>
          </inertia>
        </inertial>
        <collision name='virtual_b_link_collision'>
            <pose>0 0 0 0 -0 0</pose>
            <geometry>
            <box>
                <size>0.01 0.01 0.01</size>
            </box>
            </geometry>
        </collision>
        <visual name='virtual_b_link_visual'>
            <pose>0 0 0 0 -0 0</pose>
            <geometry>
            <box>
                <size>0.01 0.01 0.01</size>
            </box>
            </geometry>
        </visual>
    </link>

    <joint name="virtual_1_virtual_a" type="fixed">
      <pose relative_to='virtual_1_link'>0 0 0 0 -0 0</pose>

      <parent>virtual_1_link</parent>  
      <child>virtual_a_link</child>
    </joint>

    <joint name="virtual_2_virtual_b" type="fixed">
      <pose>0 0 0 0 -0 0</pose>

      <parent>virtual_b_link</parent>  
      <child>virtual_2_link</child>
    </joint>

    <plugin name='gazebo_ros_joint_state_publisher' filename='libgazebo_ros_joint_state_publisher.so'>
        <update_rate>20</update_rate>
        <joint_name>base_arm_1_joint</joint_name>
        <joint_name>arm_forearm_1_joint</joint_name>

        <joint_name>base_arm_2_joint</joint_name>
        <joint_name>arm_forearm_2_joint</joint_name>


        <joint_name>virtual_1_mobile_platform_joint</joint_name>
    </plugin>
    <static>0</static>
    <plugin name='gazebo_ros_joint_pose_trajectory' filename='libgazebo_ros_joint_pose_trajectory.so'>
        <update_rate>20</update_rate>
        <joint_name>base_arm_1_joint</joint_name>
            <joint_name>arm_forearm_1_joint</joint_name>

            <joint_name>base_arm_2_joint</joint_name>
            <joint_name>arm_forearm_2_joint</joint_name>

            <joint_name>virtual_1_mobile_platform_joint</joint_name>
    </plugin>
    </model>
</sdf>